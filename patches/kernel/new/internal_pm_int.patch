@@ -, +, @@ 
---
 drivers/gpu/drm/i915/i915_irq.c | 2 ++
 drivers/gpu/drm/i915/intel_pm.c | 7 ++++---
 2 files changed, 6 insertions(+), 3 deletions(-)
--- a/drivers/gpu/drm/i915/i915_irq.c	
+++ a/drivers/gpu/drm/i915/i915_irq.c	
@@ -378,6 +378,8 @@ void gen6_enable_rps_interrupts(struct drm_device *dev)
 
 u32 gen6_sanitize_rps_pm_mask(struct drm_i915_private *dev_priv, u32 mask)
 {
+	if (IS_VALLEYVIEW(dev_priv))
+		return 0;
 	/*
 	 * SNB,IVB can while VLV,CHV may hard hang on looping batchbuffer
 	 * if GEN6_PM_UP_EI_EXPIRED is masked.
--- a/drivers/gpu/drm/i915/intel_pm.c	
+++ a/drivers/gpu/drm/i915/intel_pm.c	
@@ -4515,12 +4515,13 @@ void gen6_rps_idle(struct drm_i915_private *dev_priv)
 
 	mutex_lock(&dev_priv->rps.hw_lock);
 	if (dev_priv->rps.enabled) {
-		if (IS_VALLEYVIEW(dev))
+		if (IS_VALLEYVIEW(dev)) {
 			vlv_set_rps_idle(dev_priv);
-		else
+		} else {
 			gen6_set_rps(dev_priv->dev, dev_priv->rps.idle_freq);
+			I915_WRITE(GEN6_PMINTRMSK, 0xffffffff);
+		}
 		dev_priv->rps.last_adj = 0;
-		I915_WRITE(GEN6_PMINTRMSK, 0xffffffff);
 	}
 	mutex_unlock(&dev_priv->rps.hw_lock);
 
-- 
